# SMTP and email services
## info
* Protocols
  * Sending emails - SMTP
  * Opening emails - POP3, IMAP
* Cloud based email solutions are using HTTPS or similar technology
* DNS MX records can help us identify a mail server(s)
* Query information about MX records
  * host, dig
  * online solution: https://mxtoolbox.com/
<pre>
# Host - MX Records
mrFiSHER@htb[/htb]$ host -t MX hackthebox.eu
hackthebox.eu mail is handled by 1 aspmx.l.google.com.
mrFiSHER@htb[/htb]$ host -t MX microsoft.com
microsoft.com mail is handled by 10 microsoft-com.mail.protection.outlook.com.

# DIG - MX Records
mrFiSHER@htb[/htb]$ dig mx plaintext.do | grep "MX" | grep -v ";"
plaintext.do.           7076    IN      MX      50 mx3.zoho.com.
plaintext.do.           7076    IN      MX      10 mx.zoho.com.
plaintext.do.           7076    IN      MX      20 mx2.zoho.com.
mrFiSHER@htb[/htb]$ dig mx inlanefreight.com | grep "MX" | grep -v ";"
inlanefreight.com.      300     IN      MX      10 mail1.inlanefreight.com.

# Host - A Records
mrFiSHER@htb[/htb]$ host -t A mail1.inlanefreight.htb.
mail1.inlanefreight.htb has address 10.129.14.128

# examining results
- microsoft-com.mail.protection.outlook.com. (Cloud based - G-Suite)
- aspmx.l.google.com. (Cloud based - MS 365)
- mx.zoho.com. mx2.zoho.com. mx3.zoho.com. (Cloud based - Zoho)
- mail1.inlanefreight.com. (custom mail server - hosted by the company - OnSite)
</pre>
