# enumeration with metasploit
## portscanning, pivoting, portscanning with autoroute
* $ service start postgresql
* tcp scan
  * msf6> use auxiliary/scanner/portscan/tcp
  * (shell access through random expolitation...)
  * meterpreter> run aturoute -s 10.10.10.2
  * meterpreter> background
  * msf6> use auxiliary/scanner/portscan/tcp
  * (set ip or ip range from the second subnet - routed through pivot host)
* udp scan
  * msf6> use auxiliary/scanner/discovery/udp_sweep
  * (same steps as with tcp scan...)
### ping sweep (pivoting autoroute)
* msf6> use post/multi/gather/ping_sweep
## ftp enum
### msf modules
* msf6> use auxiliary/scanner/ftp/ftp_version
* msf6> use auxiliary/scanner/ftp/ftp_login
* msf6> use auxiliary/scanner/ftp/anonymous
### login with obtained credentials
* $ftp 10.10.10.1
### search msf exploit for specific ftp server version
* msf6> search proFTPd (or other specific version...)
## smb enum
### msf modules
* msf6> use auxiliary/scanner/smb/smb_version
* msf6> use auxiliary/scanner/smb/smb_enumusers
* msf6> use auxiliary/scanner/smb/smb_enumshares (+... msf6> set ShowFiles true)
* msf6> use auxiliary/scanner/smb/smb_login
### search msf exploit for specific smb server version
* msf6> search Samba (or other specific version...)
### login with obtained credentials
* $smbclient -L \\10.10.10.2\ -U admin
* $smbclient \\\\10.10.10.2\\ -U admin

