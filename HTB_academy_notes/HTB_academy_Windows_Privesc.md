# Hack The Box academy Windows Privilege Escalation notes
## Intro
Note: Depending on how we gain access to a system we may not have many directories that are writeable by our user to upload tools. It is always a safe bet to upload tools to C:\Windows\Temp because the BUILTIN\Users group has write access.  
## Situational Awareness
* Network Information
  * ipconfig /all, arp -a, route print
* Enumerating Protections
<pre>
# Check Windows Defender Status
Get-MpComputerStatus
# List AppLocker Rules
Get-AppLockerPolicy -Effective | select -ExpandProperty RuleCollections
# Test AppLocker Policy
Get-AppLockerPolicy -Local | Test-AppLockerPolicy -path C:\Windows\System32\cmd.exe -User Everyone
</pre>
## Initial Enumeration
During an assessment, we may gain a low-privileged shell on a Windows host (domain-joined or not) and need to perform privilege escalation to further our access.  
We can escalate privileges to one of the following depending on the system configuration and what type of data we encounter:  
* The highly privileged NT AUTHORITY\SYSTEM account, or LocalSystem account which is a highly privileged account with more privileges than a local administrator account and is used to run most Windows services.
* The built-in local administrator account. Some organizations disable this account, but many do not. It is not uncommon to see this account reused across multiple systems in a client environment.
* Another local account that is a member of the local Administrators group. Any account in this group will have the same privileges as the built-in administrator account.
* A standard (non-privileged) domain user who is part of the local Administrators group.
* A domain admin (highly privileged in the Active Directory environment) that is part of the local Administrators group.
